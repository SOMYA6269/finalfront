const n=()=>{let t="";return t="http://localhost:5000/api",t=t.replace(/\/api\/?$/,"").replace(/\/$/,""),t},a=n();async function c(t){try{const r=await fetch(`${a}/api/contact/submit`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok){const o=await r.json().catch(()=>({error:"Network error"}));throw new Error(o.error||`HTTP ${r.status}: Failed to submit contact form`)}return await r.json()}catch(r){throw console.error("Contact form submission error:",r),r}}async function u(t){try{const r=await fetch(`${a}/api/ratings/submit`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok){const o=await r.json().catch(()=>({error:"Network error"}));throw new Error(o.error||`HTTP ${r.status}: Failed to submit rating`)}return await r.json()}catch(r){throw console.error("Rating submission error:",r),r}}async function l(t=null,r=50){try{const e=new URLSearchParams({limit:r.toString()});t&&e.append("page",t);const o=await fetch(`${a}/api/ratings/all?${e}`);if(!o.ok){const s=await o.json().catch(()=>({error:"Network error"}));return console.error("Get ratings error:",s.error||`HTTP ${o.status}`),[]}return(await o.json()).ratings||[]}catch(e){return console.error("Get ratings error:",e),[]}}export{l as getRatings,c as submitContactForm,u as submitRating};
